<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js â€“ The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/solarized.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1><img src="http://emojipedia-us.s3.amazonaws.com/cache/cf/bb/cfbbaf9a17dbd14b3ec6022a28c884ca.png" alt="Nerd Face" style="border: none; box-shadow: none"></h1>
					<p>
						<small>Created by <a href="http://faridlab.github.io">Farid Hidayat</a> / <a href="http://twitter.com/faridlab">@faridlab</a></small>
					</p>
				</section>

				<section>
					<h2>What's Up</h2>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section data-background="#fff">
						<img data-src="http://pre06.deviantart.net/0c49/th/pre/i/2004/336/5/2/civet_by_jiles.jpg" alt="Luwak" style="border: none; box-shadow: none" />
					</section>
				</section>


				<section>
					<section>
						<h2>Luwak</h2>
						<p>
							Luwak is animal that eat coffee beans and poop beans out as best coffee in the world.
							<br>
							The philosophy is vast internet data already rich in web pages kind, somehow for our application we need clean data. With luwak we can extract and scrape data from web pages.
						</p>
						<p>
							<small>Source: <a href="https://github.com/faridlab/luwak">https://github.com/faridlab/luwak</a></small>
						</p>
					</section>
					<section>
						<h2>Case</h2>
						<p class="fragment shrink">Matahari Mall is one of the biggest ecommerce in Indonesia</p>
						<p class="fragment shrink">How they get all data at the initial launch the app?</p>
						<p class="fragment fade-up">Scrapping</p>
					</section>
				</section>

<section>
	<h2>Install</h2>
<pre>
<code class="hljs" style="word-wrap: break-word;">$ npm install luwak
-- OR Global
$ npm install -g luwak</code></pre>

<p>
	<small>Requirement: Nodejs | <a href="https://nodejs.org/en/">https://nodejs.org</a></small>
</p>
</section>

<section>
	<h2>Example</h2>
<pre><code class="hljs" data-trim contenteditable>'use strict';
const luwak = require('../index');
const url = require('url');
const qs = require('querystring');
const sprintf = require("sprintf-js").sprintf;
const userAgent = require('../middlewares/user-agent.js');

let target = [
	'https://www.bukalapak.com/c/buku',
	'?search%5Bkeywords%5D=buku',
	'&from=omnisearch',
	'&search_source=omnisearch_category'
].join('');

try {
  let counter = 5;
  let rowIndex = 0;
  let s = luwak(target)
    .use(userAgent('Googlebot/2.1 (+http://www.google.com/bot.html)'))
    .filter('stripBracket', function (value) {
      let matches = value.match(/\(([^)]+)\)/);
      if (matches) {
        return matches[1];
      }
      return value;
    })
    .select([{
      $root: '.basic-products .product-display',
      name: '.product-description h3 a',
      price: '.product-price .amount | int:10',
      img: '.product-media img@src',
      seller: {
        $root: '.product-seller',
        username: '.user__name a',
        city: '.user-city | trim',
      },
      rating: '.product__rating .rating | float',
      reviewCount: '.product__rating .review__aggregate | stripBracket | int',
      discount: '.product-discount-percentage-amount | int'
    }])
    .next('a.next_page@href')
    .limit(5)
    .fetch(function(row) {
      console.log(sprintf('%3d. %s', rowIndex++, row.name));
    })
    .then(data => {
      console.log('-------------- len', data);
    })
    .catch(err => console.error(err.stack));
} catch(e) {
  console.error(e.stack);
}</code></pre>
</section>

				<section>
					<h2>JSON Result</h2>
<pre>
<code class="hljs" data-trim contenteditable>
{
name: 'HUKUM PIDANA buku 1&2 by utrech',
price: 125,
img: 'https://s4.bukalapak.com/img/936725601/medium/IMG_20151209_141452_scaled.jpg',
seller: {
	username: 'TB.Hendrabook.JCI',
	city: 'Jakarta Pusat'
},
rating: 0,
reviewCount: 0,
discount: 0
}</code></pre>

				</section>

				<section data-markdown>
					<script type="text/template">
						## Let's Scrapping
					</script>
				</section>

				<section>
					<h1>THE END</h1>
					<img width="500px" style="border: none; box-shadow: none" src="http://emojione.com/wp-content/uploads/assets/emojis/1f43b.svg" />
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
